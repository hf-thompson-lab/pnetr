# PnET-R

The R version of the Photosynthetic and EvapoTranspiration model family. 

PnET is a simple lumped-parameter forest ecosystem model family designed to simulate the effects of climate change, disturbance, and biogeochemical perturbations on coupled C, H20, and N cycling. The PnET family consists of several models including [PnET-II](http://www.int-res.com/abstracts/cr/v05/n3/p207-222/), [PnET-Day](http://www.jstor.org/stable/4221255), [PnET-CN](https://linkinghub.elsevier.com/retrieve/pii/S0304380097019534), PnET-Daily, and PnET-SOM. Currently, in this package, we provide PnET-II, PnET-Day, and PnET-CN. 

## Installation

The package can be installed by running the following command in R terminal:

```
install.github("url")
```

We encourage users folk/download this repository and modify the any part of the scripts for their needs. For example, we often read science papers claiming:"earth system models do not capture or underestimate xxx processes/effects" but most earth system models are hard to modify because they are coded in low-level programming languages for computational reasons and they are too complex to handle for most scientists who only wants to test their scientific hypotheses/findings. In this case, users can modify the corresponding processes in this pacakge and test their hypothses directly. Also for this reason, we provided detailed documentation for the encoded processes in this pacakge for user's references. 

A typical useage of this package would be, say, we find some new ecological process through empirical analysis and draw some inferences based on that, but we are not sure whether the process is causal or how much it can improve ecosystem models in representing the carbon/water cycles. In this case, we can directly add our new process into this model and test how it interacts with other variables and check whether it makes sense or not. 

## Documentation

The descriptions of the models can be found [here](/doc/pnet_model.md). Additionally, the follwing resources are also useful:

- [PnET official website](https://www.pnet.sr.unh.edu/) (*Note that although this is a University of New Hemisphere hosted website, somehow you may encounter a "not secure warning" from Chrome or other browsers. Please ignore it and click "Advanced"-->"Proceed"*)
- [ORNL DAAC](https://daac.ornl.gov/MODELS/guides/pnet_guide.html) lists key references and includes some descriptions.
- [Another effort of PnET-CN in R](https://github.com/AlexandraThorn/PnETCN-R)
- [LANDIS-II PnET-Succession](https://www.landis-ii.org/extensions/pnet-succession)


## Repository structure

The `data` folder includes some example data that can be used to run the models.

The `man` folder is the API documentation generated by the `devtools` package. Users do not need to modify the content in this folder. After documenting the user-created functions with the `roxygen2` format, the content in this folder can be automatically generated by running `devtools::document()`.

The `R` folder contains the source code. In this folder, file names with `dat_*` indicate the script is related to data processing; `hlp_*` files are helper functions; `obj_*` files are objects as the package adopted some part of object-oriented programming; `mod_*` files are specific model implementations.

The `tests` folder contains scripts that are used for unit tests by the `testthat` package.

## Developer Notes

Developer notes can be found [here](/doc/developer_notes.md), which provide more detailed information about how to code the repository.
